
import Vue from 'vue'
import App from './App'
import router from './router'
import $ from 'jquery'
import 'babel-polyfill';
import { Vue2Dragula } from 'vue2-dragula'
import VueResource from 'vue-resource';
import iView from 'iview';
import Vuex from 'vuex';
import TXPlugin from './TXPlugin.js'
import store from '../src/vuex/store.js';
// import 'iview/dist/styles/iview.css';    // 使用 CSS

Vue.use(VueResource);
Vue.use(iView);
Vue.use(Vuex);
Vue.use(TXPlugin);
Vue.use(Vue2Dragula, {
  logging: {
    directive: true,
    plugin: true,
    service: true,
    dragHandler: true
  }
})

//set global headers

Vue.http.interceptors.push((request, next) => {
  request.headers.set('Authorization', Auth)
  next(response => {
    return response
  })
})
Vue.config.productionTip = false;
Vue.http.options.emulateJSON = true;
Vue.http.options.emulateHTTP = true;

window.eventBus = new Vue({});
new Vue({
  el: '#app',
  router, 
  render: h => h(App),
  store
})
